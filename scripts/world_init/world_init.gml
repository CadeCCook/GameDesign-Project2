    // MAP DEFINITION (EDIT THIS ARRAY)
    //
    //  - 1 = wall
    //  - 0 = empty
    //  - 24 rows x 32 columns  (H=24, W=32)
    //
    // When you’re happy with a layout in the minimap:
    //   1) Press Ctrl+C in-game (world_grid_dump_array)
    //   2) Paste the copied array over this LEVEL definition
function world_init() {
    global.WORLD_CELL = 128;
	global.WALL_HEIGHT  = 192;
    global.CEILING_HEIGHT = global.WALL_HEIGHT + -63;

    var LEVEL;

    if (room == rm_tutoriallvl) {

// Tutorial level: simple horizontal hallway
        // 0 = floor, 1 = wall, 2 = pit, 3 = enemy, 4 = torch, 5 = goal, 6 = trap, 7 = hp pick up, 8 = player spawn

        LEVEL = [
  [1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],
  [1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],
  [1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],
  [1,1,1,1,1,1,1,1,1,1,1,1,4,1,1,1,1,1,1,1,1,1,4,1,1,1,1,1,1,1],
  [4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4],
  [1,0,0,0,0,0,0,0,0,0,0,0,0,2,2,0,0,0,0,0,0,0,0,0,3,0,0,0,0,5],
  [4,0,0,0,0,0,0,0,0,0,0,0,0,2,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4],
  [1,1,1,1,1,1,1,1,1,1,1,1,4,1,1,1,1,1,1,1,1,1,4,1,1,1,1,1,1,1],
  [1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],
  [1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]
]

    } else {
		// 0 = floor, 1 = wall, 2 = pit, 3 = enemy, 4 = torch, 5 = goal, 6 = trap, 7 = hp pick up, 8 = player spawn, 9 = trap button
        // your existing main level layout
        LEVEL = [// Row  0 (top border)
  [1,1,6,1,4,1,1,1,1,1,4,1,1,1,1,1,1,1,1,6,1,1,1,6,1,1,1,1,1,1,1,1],
        // Rows 1..22 – interior (edit freely)  
  [1,0,0,0,0,0,0,0,0,0,0,2,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,3,1],
  [1,0,0,0,0,0,0,0,1,0,0,2,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,3,1,0,0,1],
  [6,0,9,0,0,0,0,0,1,0,0,2,1,0,0,7,0,0,3,9,1,1,1,0,0,0,0,0,0,0,0,1],
  [1,0,0,10,0,0,0,0,1,0,0,2,1,0,0,1,0,0,3,0,1,1,1,9,0,0,0,3,0,0,0,5],
  [1,0,0,0,0,0,0,0,1,0,0,2,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,1],
  [1,1,1,1,1,1,4,1,1,0,0,1,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,3,1,0,3,1],
  [1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,4,1,1,1,1,1,1,6,1,4,1],
  [6,0,0,3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3,0,0,0,0,0,0,0,0,0,0,0,1],
  [1,0,0,0,0,0,4,1,1,0,0,1,1,1,0,0,0,3,0,0,0,0,0,3,0,0,0,0,9,0,0,6],
  [1,1,1,1,1,1,1,2,2,0,0,0,2,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1],
  [1,0,0,0,0,0,1,2,2,0,0,0,2,1,1,1,0,1,1,1,1,1,0,1,4,1,1,1,0,0,0,1],
  [1,0,0,0,3,0,1,1,0,0,0,0,2,1,0,0,0,0,0,0,4,0,0,0,0,0,0,1,0,0,0,1],
  [4,0,3,0,0,0,0,0,0,0,3,0,2,4,1,4,1,1,1,1,1,0,7,0,0,7,0,1,0,0,0,1],
  [1,0,0,0,0,0,1,1,0,0,0,0,2,1,3,0,0,7,0,0,1,1,1,1,1,1,1,4,0,0,0,1],
  [1,0,0,0,3,0,1,2,2,2,0,0,2,1,0,0,7,0,0,0,4,0,0,3,0,0,0,1,0,3,0,1],
  [1,0,0,0,0,0,1,2,2,2,0,0,2,1,1,1,1,1,1,0,1,0,0,0,0,0,0,1,0,0,0,1],
  [1,1,1,1,1,1,1,1,1,2,0,0,2,1,0,0,0,7,1,0,1,0,3,0,3,0,0,9,0,0,0,6],
  [1,0,3,0,3,0,3,0,1,2,0,0,0,0,0,0,0,7,4,0,1,0,0,0,0,0,0,1,0,0,0,4],
  [1,0,7,0,0,0,0,0,1,2,0,0,2,1,0,0,0,7,1,0,0,0,0,3,0,0,0,1,0,0,0,1],
  [6,0,0,9,0,0,0,0,0,0,0,0,2,1,1,1,1,1,4,1,1,1,1,1,1,1,1,1,0,3,0,1],
  [1,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1],
  [1,0,0,0,0,0,0,0,1,0,0,0,0,1,0,8,0,0,1,0,0,0,1,0,0,0,0,0,0,0,0,1],
        // Row 23 (bottom border)
  [1,1,4,6,4,1,1,1,1,1,4,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,4,1,1,1,1,1]
  ];
            // existing big 24x32 LEVEL from your file
    }

    world_from_array(LEVEL);
    return LEVEL;
}